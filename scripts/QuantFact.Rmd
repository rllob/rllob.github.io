---
title: "Quantiles and facators in R"
author: "Ramses"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE, error = FALSE)

# load libraries

library(dplyr)

```

## Introduction

Let's revisit several functions or concepts we've learnt from lectures and QSS tutorials that help you succeed in finishing Problem Set 1. We'll cover: 

* `tapply()`

* `quantile()`

* `ifelse()` or `case_when`

* class `factor`  


## Load the gapminder data again

```{r}
# load data

data <- read.csv()

```

## `tapply` for group means

Using the `tapply` function, please find:

1. The average `gdpPercap` for each `continent`

2. The average `gdpPercap` for each `year`

3. The average `gdpPercap` for each `continent` over every `year`

```{r}

# 1.


# 2.


# 3. in here you will need to use list()



```

## quantile and ifelse

Using `quantile` and `ifelse` function, please create:

1. An object `gdp_qt` that records the lower quartile, median, and upper quartile of `gdpPercap` variable

2. A new variable `poverty` that takes the value of 1 if `gdpPercap` is lower than or equal to the lower quartile; 0 otherwise. What is the `sum` of countries in poverty? And their proportion?

3. A new variable `gdpPercap_cat` that converts `gdpPercap` into four categories: `poor`, `middle`, `wealthy`, and `very wealthy` based on quartiles in `gdp_qt`

4. Use `tapply` to find the mean of `lifeExp` for each income group, based on `gdpPercap_cat`

```{r}
# 1.



# 2.


# 3.



# 4.



```

## Factor

How to inform `R` that `gdpPercap_cat` has an inherent order? 

1. Check out the class of `gdpPercap_cat`

2. Use `factor()` to convert `gdpPercap_cat` into factor, and specify the `levels = c(...)` argument. In the levels argument you will concatenate the four categories `poor`, `middle`, `wealthy`, and `very wealthy` in this order.

3. Check out the class of `gdpPercap_cat` again.

4. Use `tapply` to find the mean of `lifeExp` for each income group, based on `gdpPercap_cat`

```{r}


```













